# AI Preamble Reference（非正規の要約メモ）

この文書は、システム側の事前指示・前提を **短く再掲** するための「参照メモ」です。  
**矛盾がある場合の優先順位は必ず以下**とします。

1. `docs/spec_*.md`（仕様の唯一の正）
2. `AGENTS.md`（AI運用ルールの唯一の正）
3. `docs/START_HERE.md`（運用導線・テンプレ運用）
4. 本ファイル（参考）

---

## Project Snapshot（10行で全体像）

- ホテル予約データ（PMSのオンハンド / LTデータ）をもとに、需要の時間推移を扱う分析ツールを作る。
- 主機能は「ブッキングカーブ可視化」「LTベースの予測」「予測精度の評価」。
- GUIは Tkinter、将来的に EXE化（pyinstaller 等）を想定。
- 対象は複数ホテル（主に大阪市内のビジネスホテル想定）。
- マルチホテル / マルチモデル / ASOF比較（時点比較）に対応する設計を前提とする。
- 入出力・モデル定義・評価指標は `docs/spec_*` を唯一の正として扱う。
- 運用（スレッド開始〜docs更新〜締め）は `docs/START_HERE.md` とテンプレ群に従う。

---

## User Assumptions（ユーザー前提）

- ユーザーはホテルのレベニューマネージャーで、OCC/ADR/RevPAR/LT/ブッキングカーブ/誤差指標の概念を扱う。
- 職業プログラマーではない前提（基礎文法や設計に抜けがあり得る）。
- ただし Python / Git / Excel を実務で使っており、説明が分かりやすければ実装・運用に追随できる。
- 目的は「学術的に美しい」より「現場で回る」落とし所を優先する。

---

## Output Quality Patterns（このプロジェクトでの出力品質の型）

### 1) 事実と推測を分ける
- 事実：ZIPやspec等の根拠に基づくこと（該当箇所がある場合はそこを根拠にする）。
- 推測：不足がある場合は推測で埋めず、前提・仮定として明示し、必要なら質問へ切り替える。

### 2) コードや修正案は「目的→最小変更→改善案」の順
- まず「何をする処理か」を1〜3行で説明してから提示する。
- バグ疑いは「怪しい点→理由→最小修正→（余裕があれば）より綺麗な案」の順で出す。

### 3) 指標・評価の説明は「数式→直感」
- 定義式（記号の意味付き）→ 現場解釈（何室/何%のズレか）→ 指標間の違い、の順で説明する。

### 4) 迷ったら“唯一の正”へ戻す
- 仕様は `docs/spec_*`。
- 運用は `AGENTS.md` と `docs/START_HERE.md`（テンプレ含む）。
- 本ファイルは「思い出すための短いメモ」に留める（重複を増やさない）。

---

## References（参照先）

- 仕様（唯一の正）
  - `docs/spec_overview.md`
  - `docs/spec_data_layer.md`
  - `docs/spec_models.md`
  - `docs/spec_evaluation.md`

- AI運用ルール（唯一の正）
  - `AGENTS.md`

- 運用導線（スレッド開始 / Docs Gate / 締め）
  - `docs/START_HERE.md`
  - `docs/templates/`

- 利用者向け操作説明
  - `BookingCurveLab_README.txt`

- 計画（“予定”であり仕様ではない）
  - `docs/roadmap.md`
  - `docs/tasks_backlog.md`
